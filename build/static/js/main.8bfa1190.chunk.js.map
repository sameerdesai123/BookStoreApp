{"version":3,"sources":["logo.svg","App.js","components/Login.js","components/Register.js","index.js"],"names":["module","exports","App","props","logout","localStorage","removeItem","window","location","reload","state","books","axios","defaults","headers","common","getItem","get","then","res","setState","data","console","log","catch","error","response","status","history","push","class","onClick","this","map","book","title","author","description","publisher","Component","Login","onChange","e","target","name","value","onSubmit","preventDefault","username","password","post","result","setItem","token","message","role","for","type","placeholder","required","to","Register","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.8bfa1190.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React,{ Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\n\n\nclass App extends Component{\n  constructor(props){\n    super(props);\n    this.state={\n      books:[]\n    }\n  }\n  componentDidMount(){\n    axios.defaults.headers.common['Authorization']=localStorage.getItem('jwtToken');\n    axios.get('/api/book')\n    .then(res => {\n      this.setState({books:res.data})\n      console.log(this.state.books)\n    })\n    .catch((error) => {\n      if(error.response.status === 401){\n        this.props.history.push('/login')\n      }\n    });\n  }\n  logout = () => {\n    localStorage.removeItem('jwtToken')\n    window.location.reload();\n  }\n  render(){\n    return(\n      <div class=\"container\">\n        <div class=\"panel panel-default\">\n          <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">\n              BOOK CATALOG &nbsp;\n              {localStorage.getItem('jwtToken')&&\n                <button class=\"btn btn-primary btn-lg\" onClick={this.logout}>\n                  Logout\n                </button>\n              }\n              </h3>\n          </div>\n          <div class=\"panel-body\">\n            <table class=\"table table-stripe\">\n              <thead>\n                <tr>\n                  <th>Title</th>\n                  <th>Author</th>\n                  <th>Description</th>\n                  <th>Publisher</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.state.books.map(book => \n                  <tr>\n                    <td>{book.title} </td>\n                    <td>{book.author} </td>   \n                    <td>{book.description} </td>\n                    <td>{book.publisher} </td>  \n\n\n                  </tr>\n                 )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;","import React,{ Component } from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport './Login.css';\r\n\r\nclass Login extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            username:'',\r\n            password:'',\r\n            message:''\r\n        };\r\n    }\r\n\r\n    onChange = (e) => {\r\n       const state=this.state;\r\n       state[e.target.name]=e.target.value;\r\n       this.setState(state);\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n         e.preventDefault();\r\n\r\n         const{username,password}=this.state;\r\n         axios.post('/api/auth/login',{username,password})\r\n         .then((result) => {\r\n             localStorage.setItem('jwtToken',result.data.token);\r\n             this.setState({message:''});\r\n             this.props.history.push('/')\r\n         })\r\n         .catch((error) => {\r\n             if(error.response.status === 401){\r\n                 this.setState({message: 'Login Failed.You are not authorized.'})\r\n             }\r\n         });\r\n    }\r\n\r\n    render(){\r\n        const{username,password,message}=this.state;\r\n        return(\r\n            <div class=\"container\">\r\n                <form class=\"form-signin\" onSubmit={this.onSubmit}>\r\n                    {message !== '' && \r\n                    <div class=\"alert alert-warning alert-dismissible \" role=\"alert\">\r\n                        {message}\r\n                    </div>\r\n                }\r\n                    \r\n                \r\n                    <h2 class=\"form-signin-heading\">Please Login In</h2>\r\n                    <label for=\"inputEmail\" class=\"sr-only\">Email Address</label>\r\n                    <input type=\"email\" class=\"form-control\" placeholder=\"Enter Email Address\" name=\"username\" value={username} onChange={this.onChange} required></input>\r\n                    <label for=\"inputPassword\" class=\"sr-only\">Email Address</label>\r\n                    <input type=\"password\" class=\"form-control\" placeholder=\"Enter Password\" name=\"password\" value={password} onChange={this.onChange} required></input>\r\n                    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Login</button>\r\n                    <p>\r\n                        Not a member?\r\n                        <Link to=\"/register\">Register</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;","import React,{ Component } from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport './Login.css';\r\n\r\nclass Register extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            username:'',\r\n            password:''    \r\n        };\r\n    }\r\n\r\n\r\nonChange = (e) => {\r\n    const state=this.state;\r\n    state[e.target.name]=e.target.value;\r\n    this.setState(state);\r\n }\r\n\r\n onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const{username,password}=this.state;\r\n    axios.post('/api/auth/register',{username,password})\r\n    .then((result) => {\r\n        this.props.history.push('/login')\r\n    })\r\n    \r\n    }\r\n\r\n    render(){\r\n        const{username,password,message}=this.state;\r\n        return(\r\n            <div class=\"container\">\r\n                <form class=\"form-signin\" onSubmit={this.onSubmit}>\r\n                    <h2 class=\"form-signin-heading\">Please Register</h2>\r\n                    <label for=\"inputEmail\" class=\"sr-only\">Email Address</label>\r\n                    <input type=\"email\" class=\"form-control\" placeholder=\"Enter Email Address\" name=\"username\" value={username} onChange={this.onChange} required></input>\r\n                    <label for=\"inputPassword\" class=\"sr-only\">Email Address</label>\r\n                    <input type=\"password\" class=\"form-control\" placeholder=\"Enter Password\" name=\"password\" value={password} onChange={this.onChange} required></input>\r\n                    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Register</button>\r\n                    <p>\r\n                        Already Register?\r\n                        <Link to=\"/login\">Login</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\nexport default Register;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { BrowserRouter as Router,Route } from \"react-router-dom\";\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nimport App from './App';\n//import registerServiceWorker from './registerServiceWorker';\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\n\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n<Router>\n    <div>\n        <Route exact path='/' component={App} />\n        <Route  path='/login' component={Login} />\n        <Route  path='/register' component={Register} />\n    </div>\n</Router>,\n document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n//registerServiceWorker();"],"sourceRoot":""}